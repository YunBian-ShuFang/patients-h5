import{r as v,S as j,u as k,T as H,U as R,k as M,E as V,g as _,a as x,V as C,D as A,W as F,N as q}from"./index-DxsiHbDK.js";function w(t){return H()?(R(t),!0):!1}function h(t){return typeof t=="function"?t():k(t)}const b=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z=Object.prototype.toString,D=t=>z.call(t)==="[object Object]",G=()=>{};function Q(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const r=e;e=void 0,r&&await r},n}function Y(t){return _()}function B(t,e=!0,n){Y()?M(t,n):e?t():V(t)}function U(t,e,n={}){const{immediate:r=!0}=n,o=v(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function u(){o.value=!1,a()}function l(...s){a(),o.value=!0,i=setTimeout(()=>{o.value=!1,i=null,t(...s)},h(e))}return r&&(o.value=!0,b&&l()),w(u),{isPending:j(o),start:l,stop:u}}const S=b?window:void 0,N=b?window.navigator:void 0;function $(t){var e;const n=h(t);return(e=n==null?void 0:n.$el)!=null?e:n}function E(...t){let e,n,r,o;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,o]=t,e=S):[e,n,r,o]=t,!e)return G;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach(c=>c()),i.length=0},u=(c,f,m,y)=>(c.addEventListener(f,m,y),()=>c.removeEventListener(f,m,y)),l=A(()=>[$(e),h(o)],([c,f])=>{if(a(),!c)return;const m=D(f)?{...f}:f;i.push(...n.flatMap(y=>r.map(g=>u(c,y,g,m))))},{immediate:!0,flush:"post"}),s=()=>{l(),a()};return w(s),s}function J(){const t=v(!1),e=_();return e&&M(()=>{t.value=!0},e),t}function T(t){const e=J();return x(()=>(e.value,!!t()))}function K(t,e={}){const{window:n=S}=e,r=T(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let o;const i=v(!1),a=s=>{i.value=s.matches},u=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",a):o.removeListener(a))},l=q(()=>{r.value&&(u(),o=n.matchMedia(h(t)),"addEventListener"in o?o.addEventListener("change",a):o.addListener(a),i.value=o.matches)});return w(()=>{l(),u(),o=void 0}),i}function L(t,e={}){const{controls:n=!1,navigator:r=N}=e,o=T(()=>r&&"permissions"in r),i=C(),a=typeof t=="string"?{name:t}:t,u=C(),l=()=>{var c,f;u.value=(f=(c=i.value)==null?void 0:c.state)!=null?f:"prompt"};E(i,"change",l);const s=Q(async()=>{if(o.value){if(!i.value)try{i.value=await r.permissions.query(a)}catch{i.value=void 0}finally{l()}if(n)return F(i.value)}});return s(),n?{state:u,isSupported:o,query:s}:u}function Z(t={}){const{navigator:e=N,read:n=!1,source:r,copiedDuring:o=1500,legacy:i=!1}=t,a=T(()=>e&&"clipboard"in e),u=L("clipboard-read"),l=L("clipboard-write"),s=x(()=>a.value||i),c=v(""),f=v(!1),m=U(()=>f.value=!1,o);function y(){a.value&&W(u.value)?e.clipboard.readText().then(d=>{c.value=d}):c.value=P()}s.value&&n&&E(["copy","cut"],y);async function g(d=h(r)){s.value&&d!=null&&(a.value&&W(l.value)?await e.clipboard.writeText(d):O(d),c.value=d,f.value=!0,m.start())}function O(d){const p=document.createElement("textarea");p.value=d??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function P(){var d,p,I;return(I=(p=(d=document==null?void 0:document.getSelection)==null?void 0:d.call(document))==null?void 0:p.toString())!=null?I:""}function W(d){return d==="granted"||d==="prompt"}return{isSupported:s,text:c,copied:f,copy:g}}function ee(t={}){const{window:e=S,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:i=!0,type:a="inner"}=t,u=v(n),l=v(r),s=()=>{e&&(a==="outer"?(u.value=e.outerWidth,l.value=e.outerHeight):i?(u.value=e.innerWidth,l.value=e.innerHeight):(u.value=e.document.documentElement.clientWidth,l.value=e.document.documentElement.clientHeight))};if(s(),B(s),E("resize",s,{passive:!0}),o){const c=K("(orientation: portrait)");A(c,()=>s())}return{width:u,height:l}}export{Z as a,ee as u};
