import{_ as W}from"./CpNavBar-DJXLKEri.js";import{e as X}from"./index-LNuaGgvi.js";import{d as P,c as s,m as Z,b as p,h as a,F as H,i as ee,p as u,t as i,j as f,w as m,f as J,o,_ as Q,s as te,u as e,q as se}from"./index-DxsiHbDK.js";import{T as ae}from"./index-DrYP-aDN.js";import{O as r}from"./index-DkUi12Jt.js";import{b as oe,a as ne,A as ie}from"./index-HEDfruI8.js";import{e as re,c as le,a as ce,b as de,I as U,j as ue,n as pe,w as _e}from"./index-CWA1siCg.js";import{u as me,r as ve}from"./use-route-BFOmu3it.js";import{C as fe}from"./index-DSVSFtNC.js";import{C as ye}from"./index-C4bX3Bk5.js";import"./use-placeholder-DGGdHVxQ.js";import"./consult-DKwhTIEN.js";import"./request-uc666yY3.js";import"./interceptor-CO5Y9v1H.js";import"./order-VamOOSqx.js";import"./function-call-BVFVrjNs.js";import"./index-DAaGYlz9.js";import"./index-CAQ9J4A5.js";const[ge,C]=le("action-bar-icon"),xe=re({},ve,{dot:Boolean,text:String,icon:String,color:String,badge:pe,iconClass:ue,badgeProps:Object,iconPrefix:String});var be=P({name:ge,props:xe,setup(x,{slots:c}){const d=me();ce(oe);const t=()=>{const{dot:n,badge:_,icon:$,color:b,iconClass:l,badgeProps:k,iconPrefix:h}=x;return c.icon?s(de,Z({dot:n,class:C("icon"),content:_},k),{default:c.icon}):s(U,{tag:"div",dot:n,name:$,badge:_,color:b,class:[C("icon"),l],badgeProps:k,classPrefix:h},null)};return()=>s("div",{role:"button",class:C(),tabindex:0,onClick:d},[t(),c.default?c.default():x.text])}});const ke=_e(be),he={class:"order-medical"},$e=["src"],Ie={class:"info"},Ce={class:"name"},Pe={class:"size"},Me={class:"price"},Be={key:0,class:"desc"},Oe=P({__name:"OrderMedical",props:{medicines:{default:()=>[]}},setup(x){return(c,d)=>{const t=ae;return o(),p("div",he,[d[1]||(d[1]=a("div",{class:"head"},[a("h3",null,"优医药房"),a("small",null,"优医质保 假一赔十")],-1)),(o(!0),p(H,null,ee(c.medicines,n=>(o(),p("div",{class:"item van-hairline--top",key:n.id},[a("img",{class:"img",src:n.avatar,alt:""},null,8,$e),a("div",Ie,[a("p",Ce,[a("span",null,i(n.name),1),a("span",null,"x"+i(n.quantity),1)]),a("div",Pe,[n.prescriptionFlag===1?(o(),f(t,{key:0},{default:m(()=>d[0]||(d[0]=[J("处方药")])),_:1})):u("",!0),a("span",null,i(n.specs),1)]),a("p",Me,"￥"+i(n.amount),1)]),n.usageDosag?(o(),p("div",Be,i(n.usageDosag),1)):u("",!0)]))),128))])}}}),Te=Q(Oe,[["__scopeId","data-v-7563fd98"]]),De={class:"order-detail-page"},Se={class:"order-head"},Ne={key:0,class:"address"},we={class:"area"},Ae={class:"detail"},Fe={class:"logistics"},Ve={class:"order-detail"},Re={class:"price"},je=P({__name:"OrderDetail",setup(x){const c=te(),d=se(),{order:t}=X(c.params.id);return(n,_)=>{var M,B,O,T,D,S,N,w,A,F,V,R;const $=W,b=U,l=ye,k=fe,h=ke,v=ie,y=ne;return o(),p("div",De,[s($,{title:"药品订单-"+((M=e(t))==null?void 0:M.statusValue)},null,8,["title"]),a("div",Se,[((B=e(t))==null?void 0:B.status)===e(r).MedicineCancel||((O=e(t))==null?void 0:O.status)===e(r).MedicinePay||((T=e(t))==null?void 0:T.status)===e(r).MedicineSend?(o(),p("div",Ne,[a("p",we,[s(b,{name:"location"}),a("span",null,i(e(t).addressInfo.province+e(t).addressInfo.city+e(t).addressInfo.county),1)]),a("p",Ae,i(e(t).addressInfo.addressDetail),1),a("p",null,i(e(t).addressInfo.receiver)+" "+i(e(t).addressInfo.mobile.replace(/^(\d{3})\d+(\d{4})$/,"$1****$2")),1)])):(o(),p("div",{key:1,class:"card",onClick:_[0]||(_[0]=I=>{var g;return e(d).push(`/order/logistics/${(g=e(t))==null?void 0:g.id}`)})},[a("div",Fe,[a("p",null,i((D=e(t))==null?void 0:D.expressInfo.content),1),a("p",null,i((S=e(t))==null?void 0:S.expressInfo.time),1)]),s(b,{name:"arrow"})]))]),s(Te,{medicines:(N=e(t))==null?void 0:N.medicines},null,8,["medicines"]),a("div",Ve,[s(k,null,{default:m(()=>{var I,g,j,q,E,z,G,K,L,Y;return[s(l,{title:"药品金额",value:`￥${(I=e(t))==null?void 0:I.payment}`},null,8,["value"]),s(l,{title:"运费",value:`￥${(g=e(t))==null?void 0:g.expressFee}`},null,8,["value"]),s(l,{title:"优惠券",value:`-￥${(j=e(t))==null?void 0:j.couponDeduction}`},null,8,["value"]),s(l,{title:"实付款",value:`￥${(q=e(t))==null?void 0:q.actualPayment}`,class:"price"},null,8,["value"]),s(l,{title:"订单编号",value:(E=e(t))==null?void 0:E.orderNo},null,8,["value"]),s(l,{title:"创建时间",value:(z=e(t))==null?void 0:z.createTime},null,8,["value"]),((G=e(t))==null?void 0:G.status)===e(r).MedicineSend||((K=e(t))==null?void 0:K.status)===e(r).MedicineTake||((L=e(t))==null?void 0:L.status)===e(r).MedicineComplete?(o(),p(H,{key:0},[s(l,{title:"支付时间",value:(Y=e(t))==null?void 0:Y.payTime},null,8,["value"]),s(l,{title:"支付方式",value:e(t).paymentMethod===0?"微信":"支付宝"},null,8,["value"])],64)):u("",!0)]}),_:1})]),((w=e(t))==null?void 0:w.status)===e(r).MedicineCancel?(o(),f(y,{key:0},{default:m(()=>[s(h,{icon:"delete-o",text:"删除"}),s(v,{type:"primary",text:"沟通记录"})]),_:1})):u("",!0),((A=e(t))==null?void 0:A.status)===e(r).MedicineTake?(o(),f(y,{key:1},{default:m(()=>[s(v,{type:"primary",text:"确认收货"})]),_:1})):u("",!0),((F=e(t))==null?void 0:F.status)===e(r).MedicineSend?(o(),f(y,{key:2},{default:m(()=>[s(v,{type:"primary",text:"提醒发货"})]),_:1})):u("",!0),((V=e(t))==null?void 0:V.status)===e(r).MedicinePay?(o(),f(y,{key:3},{default:m(()=>[a("p",Re,[_[1]||(_[1]=J(" 需要支付： ")),a("span",null,"￥"+i(e(t).actualPayment.toFixed()),1)]),s(v,{color:"#bbb",text:"取消订单"}),s(v,{type:"primary",text:"继续支付"})]),_:1})):u("",!0),((R=e(t))==null?void 0:R.status)===e(r).MedicineComplete?(o(),f(y,{key:4},{default:m(()=>[s(h,{icon:"delete-o",text:"删除"}),s(v,{type:"primary",text:"再次购买"})]),_:1})):u("",!0)])}}}),ot=Q(je,[["__scopeId","data-v-cd893ced"]]);export{ot as default};
