import{_ as U}from"./CpIcon-BEJBC59c.js";import{u as F,g as V,a as A}from"./index-LNuaGgvi.js";import{I}from"./index-DAaGYlz9.js";import{d as w,b as c,o as d,h as e,c as s,t as i,u as _,w as n,f as N,F as b,i as C,n as R,j as S,_ as h,r as f,k as j,e as P}from"./index-DxsiHbDK.js";import{B as z}from"./index-CAQ9J4A5.js";import{L as W,T as E,a as H}from"./index-D0Mgx2PE.js";import{u as M}from"./index-Bd9qujd1.js";import{S as B,a as L}from"./function-call-BVFVrjNs.js";import{C as Z}from"./index-DkUi12Jt.js";import{u as q}from"./consult-B3nWt7bb.js";import{R as G,C as J}from"./index-D0msGD_J.js";import"./consult-DKwhTIEN.js";import"./request-uc666yY3.js";import"./index-CWA1siCg.js";import"./interceptor-CO5Y9v1H.js";import"./order-VamOOSqx.js";import"./use-route-BFOmu3it.js";import"./use-id-Dtm_qled.js";import"./use-refs-CftPxIFx.js";const D="/patients-h5/assets/ad-ZVtSvbcW.png",O={class:"knowledge-card van-hairline--bottom"},Q={class:"head"},X={class:"info"},Y={class:"name"},x={class:"dep van-ellipsis"},tt={class:"body"},st={class:"title van-ellipsis"},et={key:0,class:"tag"},ot={key:1,class:"tag"},nt={class:"intro van-multi-ellipsis--l2"},at={class:"logs"},lt=w({__name:"KnowledgeCard",props:{item:{}},setup(g){const{loading:u,follow:p}=F("knowledge");return(o,t)=>{const a=I,r=z;return d(),c("div",O,[e("div",Q,[s(a,{round:"",class:"avatar",src:o.item.creatorAvatar},null,8,["src"]),e("div",X,[e("p",Y,i(o.item.creatorName),1),e("p",x,i(o.item.creatorHospatalName)+" "+i(o.item.creatorDep)+" "+i(o.item.creatorTitles),1)]),s(r,{loading:_(u),class:"btn",round:"",size:"small",onClick:t[0]||(t[0]=l=>_(p)(o.item))},{default:n(()=>[N(i(o.item.likeFlag===1?"已关注":"+ 关注"),1)]),_:1},8,["loading"])]),e("div",tt,[e("h3",st,i(o.item.title),1),o.item.topics&&Array.isArray(o.item.topics)?(d(),c("p",et,[(d(!0),c(b,null,C(o.item.topics,(l,m)=>(d(),c("span",{key:m},"# "+i(l),1))),128))])):(d(),c("p",ot,[e("span",null,"# "+i(o.item.topic),1)])),e("p",nt,i(o.item.content.replace(/<[^>]+>/g,"")),1),e("div",{class:R(["imgs",{large:o.item.coverUrl.length===1}])},[(d(!0),c(b,null,C(o.item.coverUrl,(l,m)=>(d(),S(a,{key:m,src:l},null,8,["src"]))),128))],2),e("p",at,[e("span",null,i(o.item.collectionNumber)+" 收藏",1),e("span",null,i(o.item.commentNumber)+" 评论",1)])])])}}}),it=h(lt,[["__scopeId","data-v-e29228d6"]]),rt={class:"knowledge-list"},dt=w({__name:"KnowledgeList",props:{type:{}},setup(g){const u=g,p=f(!1),o=f(!1),t=f([]),a=f({type:u.type,current:1,pageSize:10}),r=async()=>{console.log("loading");const l=await V(a.value);console.log("res",l),t.value.push(...l.data.rows),a.value.current>=l.data.pageTotal?o.value=!0:a.value.current++,p.value=!1};return(l,m)=>{const y=W;return d(),c("div",rt,[s(y,{loading:p.value,"onUpdate:loading":m[0]||(m[0]=v=>p.value=v),finished:o.value,"finished-text":"没有更多了",onLoad:r},{default:n(()=>[(d(!0),c(b,null,C(t.value,v=>(d(),S(it,{key:v.id,item:v},null,8,["item"]))),128))]),_:1},8,["loading","finished"])])}}}),$=h(dt,[["__scopeId","data-v-4b23f728"]]),pt={class:"doctor-card"},mt={class:"name"},ct={class:"van-ellipsis"},ut=w({__name:"DoctorCard",props:{item:{}},setup(g){const{loading:u,follow:p}=F();return(o,t)=>{const a=I,r=z;return d(),c("div",pt,[s(a,{round:"",src:o.item.avatar},null,8,["src"]),e("p",mt,i(o.item.name),1),e("p",ct,i(o.item.hospitalName)+" "+i(o.item.depName),1),e("p",null,i(o.item.positionalTitles),1),s(r,{loading:_(u),round:"",size:"small",type:"primary",onClick:t[0]||(t[0]=l=>_(p)(o.item))},{default:n(()=>[N(i(o.item.likeFlag===1?"已关注":"+ 关注"),1)]),_:1},8,["loading"])])}}}),_t=h(ut,[["__scopeId","data-v-47e8cf59"]]),vt={class:"follow-doctor"},ft={class:"body"},gt=w({__name:"FollowDoctor",setup(g){const{width:u}=M(),p=f(),o=async()=>{const t=await A({current:1,pageSize:5});console.log("关注医生",t),p.value=t.data.rows};return j(()=>{o()}),(t,a)=>{const r=L,l=B;return d(),c("div",vt,[a[0]||(a[0]=e("div",{class:"head"},[e("p",{class:"title"},"推荐关注"),e("a",{href:"javascript:;"},[N(" 查看更多"),e("i",{class:"van-icon van-icon-arrow"})])],-1)),e("div",ft,[s(l,{width:150/375*_(u),"show-indicators":!1,loop:!1},{default:n(()=>[(d(!0),c(b,null,C(p.value,m=>(d(),S(r,{key:m.id},{default:n(()=>[s(_t,{item:m},null,8,["item"])]),_:2},1024))),128))]),_:1},8,["width"])])])}}}),wt=h(gt,[["__scopeId","data-v-761b8a5c"]]),ht={class:"home-page"},yt={class:"home-header"},kt={class:"con"},$t={class:"search"},bt={class:"home-navs"},Ct={class:"home-banner"},Nt=w({__name:"index",setup(g){const u=q(),p=f(1);return(o,t)=>{const a=U,r=P("router-link"),l=J,m=G,y=L,v=B,k=H,K=E;return d(),c("div",ht,[e("div",yt,[e("div",kt,[t[3]||(t[3]=e("h1",null,"优医",-1)),e("div",$t,[s(a,{name:"home-search"}),t[2]||(t[2]=N(" 搜一搜：疾病/症状/医生/健康知识 "))])])]),e("div",bt,[s(m,null,{default:n(()=>[s(l,{span:"8"},{default:n(()=>[s(r,{to:"/",class:"nav"},{default:n(()=>[s(a,{name:"home-doctor"}),t[4]||(t[4]=e("p",{class:"title"},"问医生",-1)),t[5]||(t[5]=e("p",{class:"desc"},"按科室查问医生",-1))]),_:1})]),_:1}),s(l,{span:"8"},{default:n(()=>[s(r,{to:"/consult/fast",class:"nav",onClick:t[0]||(t[0]=T=>_(u).setType(_(Z).Fast))},{default:n(()=>[s(a,{name:"home-graphic"}),t[6]||(t[6]=e("p",{class:"title"},"极速问诊",-1)),t[7]||(t[7]=e("p",{class:"desc"},"20s医生极速回复",-1))]),_:1})]),_:1}),s(l,{span:"8"},{default:n(()=>[s(r,{to:"/",class:"nav"},{default:n(()=>[s(a,{name:"home-prescribe"}),t[8]||(t[8]=e("p",{class:"title"},"开药门诊",-1)),t[9]||(t[9]=e("p",{class:"desc"},"线上买药更方便",-1))]),_:1})]),_:1})]),_:1}),s(m,null,{default:n(()=>[s(l,{span:"6"},{default:n(()=>[s(r,{to:"/",class:"nav min"},{default:n(()=>[s(a,{name:"home-order"}),t[10]||(t[10]=e("p",{class:"title"},"药品订单",-1))]),_:1})]),_:1}),s(l,{span:"6"},{default:n(()=>[s(r,{to:"/",class:"nav min"},{default:n(()=>[s(a,{name:"home-docs"}),t[11]||(t[11]=e("p",{class:"title"},"药品订单",-1))]),_:1})]),_:1}),s(l,{span:"6"},{default:n(()=>[s(r,{to:"/",class:"nav min"},{default:n(()=>[s(a,{name:"home-rp"}),t[12]||(t[12]=e("p",{class:"title"},"药品订单",-1))]),_:1})]),_:1}),s(l,{span:"6"},{default:n(()=>[s(r,{to:"/",class:"nav min"},{default:n(()=>[s(a,{name:"home-find"}),t[13]||(t[13]=e("p",{class:"title"},"药品订单",-1))]),_:1})]),_:1})]),_:1})]),e("div",Ct,[s(v,{"indicator-color":"white"},{default:n(()=>[s(y,null,{default:n(()=>t[14]||(t[14]=[e("img",{src:D,alt:""},null,-1)])),_:1}),s(y,null,{default:n(()=>t[15]||(t[15]=[e("img",{src:D,alt:""},null,-1)])),_:1})]),_:1})]),s(K,{shrink:"",sticky:"",active:p.value,"onUpdate:active":t[1]||(t[1]=T=>p.value=T)},{default:n(()=>[s(k,{title:"关注"},{default:n(()=>[s(wt),s($,{type:"like"})]),_:1}),s(k,{title:"推荐"},{default:n(()=>[s($,{type:"recommend"})]),_:1}),s(k,{title:"减脂"},{default:n(()=>[s($,{type:"fatReduction"})]),_:1}),s(k,{title:"饮食"},{default:n(()=>[s($,{type:"food"})]),_:1})]),_:1},8,["active"])])}}}),Zt=h(Nt,[["__scopeId","data-v-c9f23cad"]]);export{Zt as default};
