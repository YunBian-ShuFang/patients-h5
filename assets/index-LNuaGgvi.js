import{O as c}from"./index-DkUi12Jt.js";import{i,j as u,b as d}from"./consult-DKwhTIEN.js";import{i as t,s as l,f as n}from"./request-uc666yY3.js";import{b as f}from"./order-VamOOSqx.js";import{s as g}from"./function-call-BVFVrjNs.js";import{r as o,k as p}from"./index-DxsiHbDK.js";const k=e=>t({url:"/patient/home/knowledge",method:"get",params:e}),I=e=>t({url:"/home/page/doc",method:"get",params:e}),w=(e,a="doc")=>t({url:"/like",method:"post",data:{id:e,type:a}}),D=(e="doc")=>{const a=o(!1);return{loading:a,follow:async s=>{a.value=!0;try{await w(s.id,e),s.likeFlag=s.likeFlag===1?0:1}finally{a.value=!1}}}},F=()=>({showPrescription:async a=>{if(a.prescriptionId){const r=await d(a.prescriptionId);g([r.data.url])}}}),b=()=>{const e=o(!1);return{loading:e,cancelConsultOrder:async r=>{try{e.value=!0,await i(r.id),r.status=c.ConsultCancel,r.statusValue="已取消",l("取消成功")}catch{n("取消失败")}finally{e.value=!1}}}},T=e=>{const a=o(!1);return{loading:a,delConsultOrder:async s=>{try{a.value=!0,await u(s.id),l("删除成功"),e&&e()}catch{n("删除失败")}finally{a.value=!1}}}},A=e=>{const a=o(!1),r=o();return p(async()=>{a.value=!0;try{const s=await f(e);console.log("药品订单详情--composable-->",s),r.value=s.data}finally{a.value=!1}}),{order:r,loading:a}};export{I as a,b,T as c,F as d,A as e,k as g,D as u};
